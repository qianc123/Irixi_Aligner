<dxr:DXRibbonWindow
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
    xmlns:dxbh="http://schemas.devexpress.com/winfx/2008/xaml/bars/internal"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxd="http://schemas.devexpress.com/winfx/2008/xaml/docking"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:Irixi_Aligner_Common"
    xmlns:Converters="clr-namespace:Irixi_Aligner_Common.Classes.Converters"
    xmlns:BindingConverter="clr-namespace:IrixiStepperControllerHelper.BindingConverter;assembly=IrixiStepperControllerHelper"
    dx:ThemeManager.ThemeName="Office2013"
    mc:Ignorable="d"
    d:DesignHeight="1200" 
    d:DesignWidth="1929"
    SnapsToDevicePixels="True" 
    UseLayoutRounding="True" 
    Loaded="DXRibbonWindow_Loaded" 
    WindowState="Maximized" 
    Closing="DXRibbonWindow_Closing" 
    Icon="AlignerLogo.ico"
    x:Class="Irixi_Aligner_Common.MainWindow"
    Title="Irixi Alignment System for 2x25G/10x10G Tx/Rx" >
    <dxr:DXRibbonWindow.Resources>

        <!--
        <Style TargetType="{x:Type dxd:DocumentPanel}">
            <Setter Property="Caption" Value="{Binding DisplayName}"/>
            <Setter Property="AllowMaximize" Value="False"/>
            <Setter Property="AllowSizing" Value="False"/>
            <Setter Property="AllowClose" Value="False"/>
            <Setter Property="ContentTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <StackPanel>
                            <ContentControl ContentTemplate="{StaticResource MotionControlPanelTitle}"/>
                            <ItemsControl ItemsSource="{Binding LogicalAxisCollection}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <UserControls:Axis Width="540" SystemService="{Binding Service}" LogicalAxis="{Binding}" Style="{StaticResource AxisControlStyle1}"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                        
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>
-->
        <Converters:BooleanToVisibility x:Key="BooleanToVisibility"/>
        <BindingConverter:CvtOutputStateToBool x:Key="CvtOutputStateToBool"/>
        <Converters:SystemStatusToStartButtonEnable x:Key="SystemStatusToStartButtonEnable"/>

    </dxr:DXRibbonWindow.Resources>
    <DockPanel DataContext="{Binding Source={StaticResource Locator}}">
        <dxr:RibbonControl x:Name="ribbonControl1" RibbonStyle="Office2010" DockPanel.Dock="Top" AllowCustomization="False" ToolbarShowMode="Hide" ToolbarShowCustomizationButton="False">
            <dxr:RibbonControl.ApplicationMenu>
                <dxr:ApplicationMenu RightPaneWidth="280" ShowRightPane="True">
                    <dxr:ApplicationMenu.RightPane>
                        <Button Content="Right Pane" />
                    </dxr:ApplicationMenu.RightPane>
                    <dxr:ApplicationMenu.BottomPane>
                        <StackPanel Orientation="Horizontal">
                            <Button Content="OK button" />
                        </StackPanel>
                    </dxr:ApplicationMenu.BottomPane>
                </dxr:ApplicationMenu>
            </dxr:RibbonControl.ApplicationMenu>
            <dxr:RibbonDefaultPageCategory>
                <dxr:RibbonPage x:Name="rpHome" Caption="Home">
                    <dxr:RibbonPageGroup Caption="Actions">
                        <dxb:BarButtonItem Content="Home" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" Command="{Binding Service.CommandHomeAllAxes}" IsEnabled="{Binding IsEnabled, ElementName=btnStart}"/>
                        <dxb:BarButtonItem x:Name="btnStart" Content="Start" RibbonStyle="SmallWithText" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" IsEnabled="{Binding Service.State, Converter={StaticResource SystemStatusToStartButtonEnable}}" />
                        <dxb:BarButtonItem x:Name="btnStop" Content="Stop" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" IsEnabled="{Binding Service.State, Converter={StaticResource SystemStatusToStopButtonEnable}}" RibbonStyle="SmallWithText"/>
                    </dxr:RibbonPageGroup>
                    <dxr:RibbonPageGroup Caption="Preset Position">
                        <dxb:BarButtonItem Content="VGroove" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="Lens" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="POD" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="Top Cam" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="Angle Cam" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="Front Cam" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                    </dxr:RibbonPageGroup>
                    <dxr:RibbonPageGroup Caption="Alignment">
                        <dxb:BarButtonItem Content="Blind Search" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="Fast Alignment" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                        <dxb:BarButtonItem Content="Alignment 2D" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" />
                    </dxr:RibbonPageGroup>
                </dxr:RibbonPage>
                <dxr:RibbonPage x:Name="rpgView" Caption="View">
                    <dxr:RibbonPageGroup x:Name="rpgView_MotionComponent" Caption="Motion Control">
                        
                    </dxr:RibbonPageGroup>
                    <dxr:RibbonPageGroup Caption="Equipments">
                        <dxb:BarCheckItem Content="Cylinders" Glyph="{dx:DXImageOffice2013 Image=Solution_16x16.png}" LargeGlyph="{dx:DXImageOffice2013 Image=Solution_32x32.png}" RibbonStyle="Default" IsChecked="{Binding Visibility, ElementName=CylinderControlPanel, Mode=TwoWay, Converter={StaticResource BooleanToVisibility}}" />
                    </dxr:RibbonPageGroup>
                </dxr:RibbonPage>
            </dxr:RibbonDefaultPageCategory>
        </dxr:RibbonControl>
        <dxr:RibbonStatusBarControl dxbh:BlendHelperForBarsAndRibbon.IsDesignControl="true" DockPanel.Dock="Bottom"/>

        <dxd:DockLayoutManager x:Name="dockLayoutManager" 
                               ClosingBehavior="HideToClosedPanelsCollection"
                               FloatingMode="Desktop"
                               dx:DXSerializer.StoreLayoutMode="UI"
                               dxd:RestoreLayoutOptions.RemoveOldPanels="False" 
                               dxd:RestoreLayoutOptions.AddNewLayoutControlItems="False" DockItemClosing="dockLayoutManager_DockItemClosing" ItemIsVisibleChanged="dockLayoutManager_ItemIsVisibleChanged">
            <dxd:LayoutGroup x:Name="rootLayout" Orientation="Vertical">
                <dxd:LayoutGroup x:Name="mainWorkspace"  Orientation="Horizontal" AllowSplitters="False" ItemHeight="4*">
                    <dxd:DocumentGroup x:Name="MotionComponentPanelHost" 
                                       MDIStyle="MDI">
                        <!-- The control panel of Cylinder -->
                        <dxd:DocumentPanel 
                            x:Name="CylinderControlPanel" 
                            Caption="Cylinders" 
                            MDISize="200,170" 
                            ShowMaximizeButton="False" 
                            AllowSizing="False" 
                            AllowRename="False" 
                            AllowDock="False" 
                            AllowMaximize="False" 
                            AllowDockToDocumentGroup="False" 
                            ClosingBehavior="HideToClosedPanelsCollection">
                            <StackPanel Orientation="Vertical" IsEnabled="{Binding Service.CylinderController.IsInitialized}">
                                <ToggleButton Height="30" Margin="0,2" Content="Fiber Clamp" Command="{Binding Service.CommandToggleFiberClampState, Mode=OneWay}" IsChecked="{Binding Service.CylinderController.FiberClampState, Converter={StaticResource CvtOutputStateToBool}, Mode=OneWay}"/>
                                <ToggleButton Height="30" Margin="0,2" Content="Lens Vacuum" Command="{Binding Service.CommandToggleLensVacuumState, Mode=OneWay}" IsChecked="{Binding Service.CylinderController.LensVacuumState, Converter={StaticResource CvtOutputStateToBool}, Mode=OneWay}"/>
                                <ToggleButton Height="30" Margin="0,2" Content="PLC Vacuum" Command="{Binding Service.CommandTogglePlcVacuumState, Mode=OneWay}" IsChecked="{Binding Service.CylinderController.PlcVacuumState, Converter={StaticResource CvtOutputStateToBool}, Mode=OneWay}"/>
                                <ToggleButton Height="30" Margin="0,2" Content="POD Vacuum" Command="{Binding Service.CommandTogglePodVacuumState, Mode=OneWay}" IsChecked="{Binding Service.CylinderController.PodVacuumState, Converter={StaticResource CvtOutputStateToBool}, Mode=OneWay}"/>
                            </StackPanel>
                        </dxd:DocumentPanel>
                    </dxd:DocumentGroup>
                </dxd:LayoutGroup>
                <dxd:TabbedGroup x:Name="bottomInfoPanelsHost">
                    <dxd:LayoutPanel x:Name="LogPanel" Caption="Log">
                        <Grid>
                            <dxe:ListBoxEdit 
                                    local:ListBoxBehavior.ScrollOnNewItem="True"  
                                    IsSynchronizedWithCurrentItem="True" 
                                    ItemTemplate="{Binding Source={StaticResource MessageItemTemplate}}" 
                                    ShowBorder="False" 
                                    ItemsSource="{Binding Service.MessageCollection}"/>
                        </Grid>
                    </dxd:LayoutPanel>
                </dxd:TabbedGroup>
            </dxd:LayoutGroup>
        </dxd:DockLayoutManager>
    </DockPanel>
</dxr:DXRibbonWindow>